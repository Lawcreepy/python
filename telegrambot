from os import name
import telebot
from telebot import types

# –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ –±–æ—Ç–∞
bot = telebot.TeleBot('')
admin_chat_id = '1314621361'


@bot.message_handler(commands=['start'])
def start(message):
    bot.send_message(message.chat.id, "–ü—Ä–∏–≤–µ—Ç! –Ø –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ –ø–æ —Ç–≤–æ–∏–º –ø—Ä–æ–±–ª–µ–º–∞–º –∏ –≤–æ–ø—Ä–æ—Å–∞–º –≤ –ú–µ–ª–∞—Ñ–æ–Ω–µ!")

    # –ó–∞–ø—Ä–æ—Å —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    bot.send_message(message.chat.id, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ —Ñ–∞–º–∏–ª–∏—é –∏ –∏–º—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è.")
    bot.register_next_step_handler(message, get_name)


# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è —Ñ–∞–º–∏–ª–∏–∏ –∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
def get_name(message):
    name_tp = message.text

    # –°–æ–∑–¥–∞–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ —Å –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –ø—Ä–æ–±–ª–µ–º
    keyboard = types.InlineKeyboardMarkup(row_width=2)
    button1 = types.InlineKeyboardButton("1. –ö–ª–∏–µ–Ω—Ç –≥–æ—Ä–∏—Ç —Å–µ—Ä—ã–º", callback_data='problem1~' + name_tp)
    button2 = types.InlineKeyboardButton("2. –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è", callback_data='problem2')
    button3 = types.InlineKeyboardButton("3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª–µ–π –ø—Ä–æ–¥–∞–∂",
                                         callback_data='problem3~' + name_tp)
    button4 = types.InlineKeyboardButton("4. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥—Ä—É—Å—Ç–Ω—ã–π —Å–º–∞–π–ª–∏–∫", callback_data='problem4')
    keyboard.add(button1, button2, button3, button4)

    # –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–Ω–æ–ø–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
    bot.send_message(message.chat.id, "–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –ø—Ä–æ–±–ª–µ–º—É:", reply_markup=keyboard)


# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–æ–∫
@bot.callback_query_handler(func=lambda call: True)
def handle_button_click(call):
    if call.data == 'problem1':
        # –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞
        bot.send_message(call.message.chat.id, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∫–∞–∫–∏–µ –∫–ª–∏–µ–Ω—Ç—ã –≤—ã–¥–µ–ª–µ–Ω—ã —Å–µ—Ä—ã–º:")
        bot.register_next_step_handler(call.message, process_sales_rep)

    elif call.data == 'problem2':
        # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏ –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
        keyboard = types.InlineKeyboardMarkup(row_width=2)
        yes_button = types.InlineKeyboardButton("–î–∞", callback_data='yes')
        no_button = types.InlineKeyboardButton("–ù–µ—Ç", callback_data='no')
        keyboard.add(yes_button, no_button)
        bot.send_message(call.message.chat.id, "–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω–æ–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ. –†–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ?",
                         reply_markup=keyboard)
    elif call.data == 'yes':
        # –î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        bot.send_message(call.message.chat.id,
                         "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–∫–ª—é—á–∏—Ç–µ GPS –∏ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ –∏ –≤–∫–ª—é—á–∏—Ç–µ –∏—Ö "
                         "—Å–Ω–æ–≤–∞.")
    elif call.data == 'no':
        # –î–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏ –æ—Ç–∫–∞–∑–µ –≤ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
        bot.send_message(call.message.chat.id, "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.")
    elif call.data[0:8] == 'problem3':
        name_tp = call.data[9:]
        # –ó–∞–ø—Ä–æ—Å –∏–º–µ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –ø—Ä–æ–¥–∞–∂
        bot.send_message(call.message.chat.id,
                         "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ —Ñ–∞–º–∏–ª–∏—é —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –∏, —á—å—é –±–∞–∑—É –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å.")
        bot.register_next_step_handler(call.message, process_sales_rep, name_tp)
    elif call.data == 'problem4':
        # –û—Ç–ø—Ä–∞–≤–∫–∞ –≥—Ä—É—Å—Ç–Ω–æ–≥–æ —Å–º–∞–π–ª–∏–∫–∞
        bot.send_message(call.message.chat.id, "üòî")


# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –ø–æ–ª—É—á–µ–Ω–∏—è –∏–º–µ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –ø—Ä–æ–¥–∞–∂
def process_sales_rep(message):
    sales_rep_name = message.text
    bot.send_message(admin_chat_id, f"–ó–∞—è–≤–∫–∞ –æ—Ç: {name}, –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É {sales_rep_name}")
    # –ü–µ—Ä–µ–¥–∞—á–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–º–µ–Ω–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—è –ø—Ä–æ–¥–∞–∂ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É –±–æ—Ç–∞
    bot.send_message(message.chat.id, f"–í–∞—à–∞ –∑–∞—è–≤–∫–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É: {sales_rep_name} —É—Å–ø–µ—à–Ω–æ –ø–µ—Ä–µ–¥–∞–Ω–∞ "
                                      "–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É! –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –±–æ—Ç–∞.")


# –ó–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞
bot.polling()
